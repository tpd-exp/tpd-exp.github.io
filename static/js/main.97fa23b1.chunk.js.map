{"version":3,"sources":["components/Login.js","util/valid.js","util/const.js","components/Admin.js","components/Player.js","components/App.js","index.js"],"names":["Form","create","name","_ref","tpd","form","getFieldDecorator","validateFields","react_default","a","createElement","Fragment","page_header","title","es_form","onSubmit","e","preventDefault","err","values","socket","notification","open","message","description","username","password","event","emit","error","style","padding","Item","initialValue","rules","required","input","size","prefix","icon","type","color","placeholder","es_button","block","htmlType","positiveInt","validator","rule","value","callback","isInt","parseInt","nonNegativeInt","COND","ROLE","PROMO","Text","Typography","Option","Select","confirm","Modal","ROUTE","items","label","id","getFieldValue","_useState","useState","_useState2","Object","slicedToArray","route","setRoute","_useState3","_useState4","creating","setCreating","newGame","console","log","row","gutter","col","span","card","onClick","strong","game","player","max","onBack","content","onOk","map","_ref2","index","key","es_select","disabled","layout","statistic","cond","param","dtp","marginTop","b","c","round","connected","done","Title","role","subTitle","info","phase","marginBottom","textAlign","concat","profit","length","Player_Text","descriptions","bordered","pm","tp","promo","qm","pr","qr","result","fontSize","spin","priority","level","App2","state","dual","_this2","this","io","process","on","setState","reason","close","window","location","reload","minHeight","className","components_Login","components_Admin","Player","Component","ReactDOM","render","App_App2","document","querySelector"],"mappings":"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","file":"static/js/main.97fa23b1.chunk.js","sourcesContent":["import React from 'react';\nimport { PageHeader, Form, Icon, Input, Button, notification } from 'antd';\n\nconst Login = ({ tpd, form }) => {\n  const { getFieldDecorator, validateFields } = form;\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    validateFields((err, values) => {\n      if (err) return;\n\n      if (!tpd.socket) {\n        return notification.open({\n          message: '登入失敗',\n          description: '伺服器連線失敗，請稍後再試'\n        });\n      }\n\n      const { username, password } = values;\n      const event = username === 'admin' ? 'loginAdmin' : 'login';\n      tpd.socket.emit(event, { username, password }, error => {\n        if (error) {\n          notification.open({\n            message: '登入失敗',\n            description: error\n          });\n        }\n      });\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <PageHeader title=\"Trade Promotion Decisions\" />\n      <Form onSubmit={onFormSubmit} style={{ padding: '12px 24px 24px 24px' }}>\n        <Form.Item>\n          {getFieldDecorator('username', {\n            initialValue: 'U2',\n            rules: [{ required: true, message: 'Please input your username!' }]\n          })(\n            <Input\n              size=\"large\"\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"Username\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator('password', {\n            initialValue: '1234',\n            rules: [{ required: true, message: 'Please input your Password!' }]\n          })(\n            <Input\n              size=\"large\"\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          <Button size=\"large\" block type=\"primary\" htmlType=\"submit\">\n            Log in\n          </Button>\n        </Form.Item>\n      </Form>\n    </React.Fragment>\n  );\n};\n\nexport default Form.create({ name: 'login' })(Login);\n","import validator from 'validator';\n\nexport const positiveInt = [\n  {\n    required: true,\n    message: '必填'\n  },\n  {\n    validator(rule, value, callback) {\n      if (validator.isInt(value) && parseInt(value) > 0) {\n        callback();\n      }\n      callback('請填正整數');\n    }\n  }\n];\n\nexport const nonNegativeInt = [\n  {\n    required: true,\n    message: '必填'\n  },\n  {\n    validator(rule, value, callback) {\n      if (validator.isInt(value) && parseInt(value) > 0) {\n        callback();\n      }\n      callback('請填非負整數');\n    }\n  }\n];\n","export const COND = {\n  NME: 'NME', // TP was given to the subjects\n  ME: 'ME' // TP was chosen by the manufacturers\n};\n\nexport const ROLE = {\n  ADMIN: 'ADMIN',\n  MANUFACTURER: 'MANUFACTURER',\n  RETAILER: 'RETAILER'\n};\n\nexport const PROMO = {\n  OFFINVOICES: 'OFF-INVOICES',\n  SCANBACKS: 'SCAN-BACKS'\n};\n","import React, { useState } from 'react';\nimport validator from 'validator';\nimport { positiveInt } from '../util/valid';\nimport { COND } from '../util/const';\nimport {\n  PageHeader,\n  Card,\n  Col,\n  Row,\n  Icon,\n  Typography,\n  Form,\n  Input,\n  Button,\n  Select,\n  Layout,\n  Statistic,\n  notification,\n  Modal\n} from 'antd';\nconst { Text } = Typography;\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nconst ROUTE = {\n  CTRL_PANEL: 'CTRL_PANEL',\n  NEW_GAME: 'NEW_GAME',\n  RESUME: 'RESUME'\n};\n\nconst items = [\n  {\n    label: '人數',\n    id: 'size',\n    initialValue: '20',\n    rules: [\n      {\n        required: true,\n        message: '必填'\n      },\n      {\n        validator(rule, value, callback) {\n          if (\n            validator.isInt(value) &&\n            parseInt(value) > 0 &&\n            parseInt(value) % 2 === 0\n          ) {\n            callback();\n          }\n          callback('請填正偶數');\n        }\n      }\n    ]\n  },\n  {\n    label: '模式',\n    id: 'cond',\n    initialValue: 'NME',\n    rules: [\n      {\n        required: true,\n        message: '必填'\n      }\n    ]\n  },\n  {\n    label: 'TP',\n    id: 'dtp',\n    initialValue: '2',\n    rules: positiveInt\n  },\n  {\n    label: 'A',\n    id: 'a',\n    initialValue: '100',\n    rules: positiveInt\n  },\n  {\n    label: 'B',\n    id: 'b',\n    initialValue: '5',\n    rules: positiveInt\n  },\n  {\n    label: 'C',\n    id: 'c',\n    initialValue: '1',\n    rules: positiveInt\n  },\n  {\n    label: '回合',\n    id: 'round',\n    initialValue: '1',\n    rules: positiveInt\n  }\n];\n\nconst Admin = ({ form, tpd }) => {\n  const { getFieldDecorator, getFieldValue, validateFields } = form;\n  const [route, setRoute] = useState(ROUTE.CTRL_PANEL);\n  const [creating, setCreating] = useState(false);\n\n  const newGame = () => {\n    setCreating(true);\n    validateFields((err, values) => {\n      if (err) return;\n      console.log(values);\n      tpd.socket.emit('newGame', values, err => {\n        setCreating(false);\n        if (err) {\n          return notification.open({\n            message: '遊戲建立失敗',\n            description: err\n          });\n        }\n        setRoute(ROUTE.RESUME);\n      });\n    });\n  };\n\n  return (\n    <React.Fragment>\n      {route === ROUTE.CTRL_PANEL && (\n        <React.Fragment>\n          <PageHeader title=\"控制台\" />\n          <Row gutter={16} style={{ padding: '12px 24px 24px 24px' }}>\n            <Col span={12}>\n              <Card onClick={() => setRoute(ROUTE.NEW_GAME)}>\n                <p>\n                  <Icon type=\"plus\" />\n                </p>\n                <p>\n                  <Text strong>新遊戲</Text>\n                </p>\n              </Card>\n            </Col>\n            <Col\n              span={12}\n              onClick={() => {\n                if (tpd.game.player.max === 0) {\n                  return notification.open({\n                    message: '沒有遊戲正在進行',\n                    description: '點擊「新遊戲」開始新遊戲。'\n                  });\n                }\n                setRoute(ROUTE.RESUME);\n              }}\n            >\n              <Card>\n                <p>\n                  <Icon type=\"caret-right\" />\n                </p>\n                <p>\n                  <Text strong>返回遊戲</Text>\n                </p>\n              </Card>\n            </Col>\n          </Row>\n        </React.Fragment>\n      )}\n      {route === ROUTE.NEW_GAME && (\n        <React.Fragment>\n          <PageHeader\n            title=\"新遊戲\"\n            onBack={() => setRoute(ROUTE.CTRL_PANEL)}\n          />\n          <Form\n            onSubmit={e => {\n              e.preventDefault();\n\n              if (tpd.game.player.max > 0) {\n                return confirm({\n                  title: '新遊戲將覆蓋正在進行的遊戲',\n                  content: '確定要繼續嗎？',\n                  onOk: newGame\n                });\n              }\n              newGame();\n            }}\n            style={{ padding: '12px 24px 24px 24px' }}\n          >\n            <Row gutter={16}>\n              {items.map(({ label, id, initialValue, rules }, index) => (\n                <Col key={index} span={8}>\n                  <Form.Item label={label}>\n                    {index === 1\n                      ? getFieldDecorator(id, { initialValue, rules })(\n                          <Select>\n                            <Option value=\"NME\">NME</Option>\n                            <Option value=\"ME\">ME</Option>\n                          </Select>\n                        )\n                      : index === 2 && getFieldValue('cond') === COND.ME\n                      ? '玩家決定'\n                      : getFieldDecorator(id, { initialValue, rules })(\n                          <Input />\n                        )}\n                  </Form.Item>\n                </Col>\n              ))}\n            </Row>\n            <Form.Item>\n              <Button\n                size=\"large\"\n                block\n                type=\"primary\"\n                htmlType=\"submit\"\n                disabled={creating}\n              >\n                遊戲開始\n              </Button>\n            </Form.Item>\n          </Form>\n        </React.Fragment>\n      )}\n      {route === ROUTE.RESUME && (\n        <React.Fragment>\n          <PageHeader\n            title=\"遊戲進行中\"\n            onBack={() => setRoute(ROUTE.CTRL_PANEL)}\n          />\n          <Layout style={{ padding: '12px 24px 24px 24px' }}>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Statistic title=\"人數\" value={tpd.game.player.max} />\n              </Col>\n              <Col span={8}>\n                <Statistic title=\"模式\" value={tpd.game.cond} />\n              </Col>\n              <Col span={8}>\n                <Statistic\n                  title=\"TP\"\n                  value={\n                    tpd.game.cond === COND.NME ? tpd.game.param.dtp : '玩家決定'\n                  }\n                />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"A\" value={tpd.game.param.a} />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"B\" value={tpd.game.param.b} />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"C\" value={tpd.game.param.c} />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"回合\" value={tpd.game.round} />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"連線人數\" value={tpd.game.player.connected} />\n              </Col>\n              <Col span={8} style={{ marginTop: 32 }}>\n                <Statistic title=\"完成人數\" value={tpd.game.player.done} />\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={12} style={{ marginTop: 24 }}>\n                <Button\n                  type=\"primary\"\n                  block\n                  icon=\"forward\"\n                  size=\"large\"\n                  onClick={() => {\n                    if (tpd.game.player.max !== tpd.game.player.done) {\n                      return confirm({\n                        title: '仍有玩家尚未完成交易',\n                        content: '確定要繼續嗎？',\n                        onOk() {\n                          tpd.socket.emit('newRound');\n                        }\n                      });\n                    }\n                    tpd.socket.emit('newRound');\n                  }}\n                >\n                  新回合\n                </Button>\n              </Col>\n              <Col span={12} style={{ marginTop: 24 }}>\n                <Button\n                  type=\"danger\"\n                  icon=\"delete\"\n                  block\n                  size=\"large\"\n                  onClick={() => {\n                    confirm({\n                      title: '將清空所有玩家的收益與回合',\n                      content: '確定要繼續嗎？',\n                      onOk() {\n                        tpd.socket.emit('resetProfitRound');\n                      }\n                    });\n                  }}\n                >\n                  清空收益回合\n                </Button>\n              </Col>\n              <Col span={24} style={{ marginTop: 16 }}>\n                <Button icon=\"download\" block size=\"large\">\n                  下載玩家資訊.csv\n                </Button>\n              </Col>\n              <Col span={24} style={{ marginTop: 16 }}>\n                <Button icon=\"download\" block size=\"large\">\n                  下載交易紀錄.csv\n                </Button>\n              </Col>\n            </Row>\n          </Layout>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Form.create({ name: 'admin' })(Admin);\n","import React from 'react';\nimport { nonNegativeInt } from '../util/valid';\nimport { COND, ROLE, PROMO } from '../util/const';\nimport {\n  PageHeader,\n  Card,\n  Col,\n  Row,\n  Icon,\n  Typography,\n  Form,\n  Input,\n  Button,\n  Select,\n  Descriptions,\n  Layout,\n  Result,\n  Modal\n} from 'antd';\nconst { Title, Text } = Typography;\nconst { confirm } = Modal;\n\nconst Manufacturer = ({ form, tpd }) => {\n  const { getFieldDecorator, validateFields } = form;\n\n  return (\n    <React.Fragment>\n      <PageHeader title={tpd.role} subTitle={tpd.info.phase} />\n      <Layout style={{ padding: '12px 24px 24px 24px' }}>\n        {tpd.info.phase === 4 && (\n          <Layout style={{ marginBottom: 19, textAlign: 'center' }}>\n            <Title>{`${tpd.profit[tpd.profit.length - 1]} ED`}</Title>\n            <Text>\n              Profits you earn in{' '}\n              <Text strong>{`period ${tpd.game.round}`}</Text>\n            </Text>\n          </Layout>\n        )}\n        <Descriptions bordered size=\"middle\" style={{ marginBottom: 36 }}>\n          <Descriptions.Item label=\"Production Cost\">\n            {tpd.game.param.c}\n          </Descriptions.Item>\n          {tpd.info.phase >= 2 && (\n            <Descriptions.Item label=\"Wholesale Price\">\n              {tpd.info.pm}\n            </Descriptions.Item>\n          )}\n          {tpd.info.phase >= (tpd.game.cond === COND.NME ? 1 : 2) && (\n            <Descriptions.Item label=\"Trade Promotion Discount\">\n              {tpd.game.cond === COND.NME ? tpd.game.param.dtp : tpd.info.tp}\n            </Descriptions.Item>\n          )}\n          {tpd.info.phase >= 3 && (\n            <Descriptions.Item label=\"Trade Promotion Allocation\">\n              {tpd.info.promo}\n            </Descriptions.Item>\n          )}\n          {tpd.info.phase === 4 && (\n            <Descriptions.Item label=\"Order Quantity\">\n              {tpd.info.qm}\n            </Descriptions.Item>\n          )}\n          {tpd.info.phase === 4 && (\n            <Descriptions.Item label=\"Retail Price\">\n              {tpd.info.pr}\n            </Descriptions.Item>\n          )}\n          {tpd.info.phase === 4 && (\n            <Descriptions.Item label=\"Consumer Demands\">\n              {tpd.info.qr}\n            </Descriptions.Item>\n          )}\n        </Descriptions>\n        {tpd.role === ROLE.MANUFACTURER && tpd.info.phase === 1 && (\n          <Form\n            onSubmit={e => {\n              e.preventDefault();\n              validateFields((err, values) => {\n                if (err) return;\n                confirm({\n                  title: `Do you wish to set wholesale price to ${values.pm}${\n                    tpd.game.cond === COND.ME\n                      ? ' and trade promotion discount to ' + values.tp\n                      : ''\n                  }?`,\n                  onOk() {\n                    tpd.socket.emit('setPmTp', {\n                      pm: parseInt(values.pm),\n                      tp:\n                        tpd.game.cond === COND.ME\n                          ? parseInt(values.tp)\n                          : parseInt(tpd.game.param.dtp)\n                    });\n                  }\n                });\n              });\n            }}\n          >\n            <Form.Item label=\"Wholesale Price\">\n              {getFieldDecorator('pm', { rules: nonNegativeInt })(\n                <Input size=\"large\" />\n              )}\n            </Form.Item>\n            {tpd.game.cond === COND.ME && (\n              <Form.Item label=\"Trade Promotion Discount\">\n                {getFieldDecorator('tp', { rules: nonNegativeInt })(\n                  <Input size=\"large\" />\n                )}\n              </Form.Item>\n            )}\n            <Form.Item>\n              <Button size=\"large\" block type=\"primary\" htmlType=\"submit\">\n                Submit\n              </Button>\n            </Form.Item>\n          </Form>\n        )}\n        {tpd.role === ROLE.RETAILER && tpd.info.phase === 1 && (\n          <Result\n            icon={<Icon type=\"loading\" style={{ fontSize: 72 }} spin />}\n            title=\"Hold on\"\n            subTitle={`Manufacturer is deciding the wholesale price${\n              tpd.game.cond === COND.ME ? ' and trade promotion discount' : ''\n            }.`}\n          />\n        )}\n        {tpd.role === tpd.info.priority && tpd.info.phase === 2 && (\n          <React.Fragment>\n            <Title level={3} style={{ marginBottom: 16 }}>\n              Please decide trade promotion allocation.\n            </Title>\n            <Button\n              size=\"large\"\n              block\n              type=\"primary\"\n              style={{ marginBottom: 12 }}\n              onClick={() => {\n                confirm({\n                  title:\n                    'Do you wish to set trade promotion allocation to off-invoices?',\n                  onOk() {\n                    tpd.socket.emit('setPromo', PROMO.OFFINVOICES);\n                  }\n                });\n              }}\n            >\n              Off-invoices\n            </Button>\n            <Button\n              size=\"large\"\n              block\n              type=\"primary\"\n              onClick={() => {\n                confirm({\n                  title:\n                    'Do you wish to set trade promotion allocation to scan-backs?',\n                  onOk() {\n                    tpd.socket.emit('setPromo', PROMO.SCANBACKS);\n                  }\n                });\n              }}\n            >\n              Scan-backs\n            </Button>\n          </React.Fragment>\n        )}\n        {tpd.role !== tpd.info.priority && tpd.info.phase === 2 && (\n          <Result\n            icon={<Icon type=\"loading\" style={{ fontSize: 72 }} spin />}\n            title=\"Hold on\"\n            subTitle={`${\n              tpd.info.priority === ROLE.MANUFACTURER\n                ? 'Manufacturer'\n                : 'Retailer'\n            } is deciding the trade promotion allocation.`}\n          />\n        )}\n        {tpd.role === ROLE.RETAILER && tpd.info.phase === 3 && (\n          <Form\n            onSubmit={e => {\n              e.preventDefault();\n              validateFields((err, values) => {\n                if (err) return;\n                confirm({\n                  title: `Do you wish to set retail price to ${values.pr} and order quantity to ${values.qm}?`,\n                  onOk() {\n                    tpd.socket.emit('setQmPr', {\n                      qm: parseInt(values.qm),\n                      pr: parseInt(values.pr)\n                    });\n                  }\n                });\n              });\n            }}\n          >\n            <Form.Item label=\"Retail Price\">\n              {getFieldDecorator('pr', { rules: nonNegativeInt })(\n                <Input size=\"large\" />\n              )}\n            </Form.Item>\n            <Form.Item label=\"Order Quantity\">\n              {getFieldDecorator('qm', { rules: nonNegativeInt })(\n                <Input size=\"large\" />\n              )}\n            </Form.Item>\n            <Form.Item>\n              <Button size=\"large\" block type=\"primary\" htmlType=\"submit\">\n                Submit\n              </Button>\n            </Form.Item>\n          </Form>\n        )}\n        {tpd.role === ROLE.MANUFACTURER && tpd.info.phase === 3 && (\n          <Result\n            icon={<Icon type=\"loading\" style={{ fontSize: 72 }} spin />}\n            title=\"Hold on\"\n            subTitle=\"Retailer is deciding the order quantity and retail price.\"\n          />\n        )}\n        {tpd.info.phase === 4 && (\n          <Button\n            size=\"large\"\n            block\n            type=\"primary\"\n            disabled={tpd.done}\n            onClick={() => {\n              confirm({\n                title:\n                  'You will not be able to see the information after this round.',\n                onOk() {\n                  tpd.socket.emit('setDone');\n                }\n              });\n            }}\n          >\n            {tpd.done\n              ? 'Waiting for other participants'\n              : 'I have seen the information above'}\n          </Button>\n        )}\n      </Layout>\n    </React.Fragment>\n  );\n};\n\nexport default Form.create({ name: 'manufacturer' })(Manufacturer);\n","import React, { Component } from 'react';\nimport { Layout, Modal } from 'antd';\nimport io from 'socket.io-client';\nimport Login from './Login';\nimport Admin from './Admin';\nimport Player from './Player';\n\nimport { COND, ROLE } from '../util/const';\n\nimport './App.scss';\n\nexport default class App2 extends Component {\n  state = {\n    socket: null,\n    game: {\n      player: {\n        max: 0,\n        connected: 0,\n        done: 0 // # of players have seen the information at stage 4\n      },\n      cond: null,\n      param: {\n        dtp: null,\n        a: null,\n        b: null,\n        c: null\n      },\n      round: null\n    },\n    role: null,\n    dual: null,\n    done: false,\n    info: {\n      priority: null, // 由哪個角色決定促銷方式\n      phase: null,\n      promo: null,\n      qr: null, // 市場\n      pm: null,\n      tp: null,\n      qm: null,\n      pr: null\n    },\n    profit: []\n  };\n\n  componentDidMount() {\n    const socket = io(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on('connect', () => {\n      this.setState({ socket });\n\n      socket.on('disconnect', reason => {\n        socket.close();\n        Modal.info({\n          title: 'Server Disconnected',\n          content: 'Nothing get lost. Just press OK to login again.',\n          onOk() {\n            window.location.reload();\n          }\n        });\n      });\n\n      socket.on('updated', ({ role, dual, info, profit, done, game }) => {\n        if (typeof game !== 'undefined') this.setState({ game });\n        if (typeof role !== 'undefined') this.setState({ role });\n        if (typeof dual !== 'undefined') this.setState({ dual });\n        if (typeof info !== 'undefined') this.setState({ info });\n        if (typeof profit !== 'undefined') this.setState({ profit });\n        if (typeof done !== 'undefined') this.setState({ done });\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <div className=\"container\">\n          {!this.state.role && <Login tpd={this.state} />}\n          {this.state.role === ROLE.ADMIN && <Admin tpd={this.state} />}\n          {(this.state.role === ROLE.MANUFACTURER ||\n            this.state.role === ROLE.RETAILER) && <Player tpd={this.state} />}\n        </div>\n      </Layout>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}